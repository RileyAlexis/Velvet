(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))y(f);new MutationObserver(f=>{for(const i of f)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&y(p)}).observe(document,{childList:!0,subtree:!0});function _(f){const i={};return f.integrity&&(i.integrity=f.integrity),f.referrerPolicy&&(i.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?i.credentials="include":f.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function y(f){if(f.ep)return;f.ep=!0;const i=_(f);fetch(f.href,i)}})();const j=document.getElementById("waveformCanvas"),k=j.getContext("2d");j.width=window.innerWidth*.75;j.height=window.innerHeight*.75;const Q=100;let K=[],$=[];class st{constructor(){this.width=20,this.height=10,this.x=j.width/2,this.y=j.height/2,this.updateInterval=5,this.counter=0,this.radius=30,this.maxRadius=50,this.randomColors=[Math.floor(Math.random()*255),Math.floor(Math.random()*120),Math.floor(Math.random()*120)],this.spectrum="rgb("+this.randomColors[0]+","+this.randomColors[1]+","+this.randomColors[2]+")"}update(w){this.counter===this.updateInterval?(this.radius=Math.floor(Math.random()*w.spectralCentroid*3),this.counter=0):this.counter++}draw(){k.beginPath(),k.fillStyle=this.spectrum,k.arc(this.x,this.y,this.radius,0,Math.PI*2),k.fill()}}class ut{constructor(){this.width=15,this.lineHeight=0,this.spread=j.width/this.width,this.x=j.width/2,this.y=j.height/2,this.updateInterval=8,this.counter=0,this.height=0,this.randomColors=[Math.floor(Math.random()*129),Math.floor(Math.random()*120),Math.floor(Math.random()*255)],this.spectrum="rgb("+this.randomColors[0]+","+this.randomColors[1]+","+this.randomColors[2]+")"}update(w){this.counter===this.updateInterval&&(this.height=w.rms*Math.floor(Math.random()*700),this.randomColors=[Math.floor(Math.random()*129),Math.floor(Math.random()*120),Math.floor(Math.random()*255)],this.spectrum="rgb("+this.randomColors[0]+","+this.randomColors[1]+","+this.randomColors[2]+")",this.counter=0),this.counter++}draw(){k.fillStyle=this.spectrum,k.fillRect(this.x,this.y,this.width,this.height),k.fillRect(this.x,this.y+this.width,this.width,this.height*-1);let w=this.x-this.width;this.height-5;for(let _=0;_<this.spread;_++)k.fillRect(this.x-w,this.y,this.width,this.height),k.fillRect(this.x-w,this.y+this.width,this.width,this.height*-1),w=w-this.width-5}}function lt(c){k.clearRect(0,0,j.width,j.height),K.length<=Q&&K.push(new st),$.length<=Q&&$.push(new ut),[...K,...$].forEach(w=>w.update(c)),[...K,...$].forEach(w=>w.draw())}var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ct(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var ot={exports:{}},G,Y;function ht(){if(Y)return G;Y=1;var c=null,w=function(y){c=c||{},c[y]=new Array(y*y);for(var f=Math.PI/y,i=0;i<y;i++)for(var p=0;p<y;p++)c[y][p+i*y]=Math.cos(f*(p+.5)*i)};function _(y,f){var i=y.length;f=f||2,(!c||!c[i])&&w(i);var p=y.map(function(){return 0});return p.map(function(C,T){return f*y.reduce(function(E,S,s,d){return E+S*c[i][s+T*i]},0)})}return G=_,G}var Z,tt;function mt(){return tt||(tt=1,Z=ht()),Z}var J,et;function pt(){if(et)return J;et=1;function c(S){if(Array.isArray(S)){for(var s=0,d=Array(S.length);s<S.length;s++)d[s]=S[s];return d}else return Array.from(S)}var w={},_={},y=function(s){var d={};d.real=s.real===void 0?s.slice():s.real.slice();var M=d.real.length;return _[M]===void 0&&(_[M]=Array.apply(null,Array(M)).map(Number.prototype.valueOf,0)),d.imag=_[M].slice(),d},f=function(s){if(w[s]===void 0){for(var d=(s-1).toString(2).length,M="0".repeat(d),b={},R=0;R<s;R++){var F=R.toString(2);F=M.substr(F.length)+F,F=[].concat(c(F)).reverse().join(""),b[R]=parseInt(F,2)}w[s]=b}return w[s]},i=function(s,d){return{real:s.real*d.real-s.imag*d.imag,imag:s.real*d.imag+s.imag*d.real}},p=function(s,d){return{real:s.real+d.real,imag:s.imag+d.imag}},C=function(s,d){return{real:s.real-d.real,imag:s.imag-d.imag}},T=function(s,d){var M=-2*Math.PI*s/d;return{real:Math.cos(M),imag:Math.sin(M)}},E=function(s){return s.imag*=-1,s};return J={bitReverseArray:f,multiply:i,add:p,subtract:C,euler:T,conj:E,constructComplexArray:y},J}var N,rt;function dt(){if(rt)return N;rt=1;var c=pt(),w=function(f){var i={};f.real===void 0||f.imag===void 0?i=c.constructComplexArray(f):(i.real=f.real.slice(),i.imag=f.imag.slice());var p=i.real.length,C=Math.log2(p);if(Math.round(C)!=C)throw new Error("Input size must be a power of 2.");if(i.real.length!=i.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var T=c.bitReverseArray(p),E={real:[],imag:[]},S=0;S<p;S++)E.real[T[S]]=i.real[S],E.imag[T[S]]=i.imag[S];for(var s=0;s<p;s++)i.real[s]=E.real[s],i.imag[s]=E.imag[s];for(var d=1;d<=C;d++)for(var M=Math.pow(2,d),b=0;b<M/2;b++)for(var R=c.euler(b,M),F=0;F<p/M;F++){var q=M*F+b,P=M*F+b+M/2,W={real:i.real[q],imag:i.imag[q]},H={real:i.real[P],imag:i.imag[P]},U=c.multiply(R,H),r=c.subtract(W,U);i.real[P]=r.real,i.imag[P]=r.imag;var t=c.add(U,W);i.real[q]=t.real,i.imag[q]=t.imag}return i},_=function(f){if(f.real===void 0||f.imag===void 0)throw new Error("IFFT only accepts a complex input.");for(var i=f.real.length,p={real:[],imag:[]},C=0;C<i;C++){var T={real:f.real[C],imag:f.imag[C]},E=c.conj(T);p.real[C]=E.real,p.imag[C]=E.imag}var S=w(p);return p.real=S.real.map(function(s){return s/i}),p.imag=S.imag.map(function(s){return s/i}),p};return N={fft:w,ifft:_},N}(function(c,w){(function(_,y){c.exports=y(mt(),dt())})(ft,function(_,y){function f(r,t,a){if(a||arguments.length===2)for(var e,n=0,o=t.length;n<o;n++)!e&&n in t||(e||(e=Array.prototype.slice.call(t,0,n)),e[n]=t[n]);return r.concat(e||Array.prototype.slice.call(t))}var i=Object.freeze({__proto__:null,blackman:function(r){for(var t=new Float32Array(r),a=2*Math.PI/(r-1),e=2*a,n=0;n<r/2;n++)t[n]=.42-.5*Math.cos(n*a)+.08*Math.cos(n*e);for(n=Math.ceil(r/2);n>0;n--)t[r-n]=t[n-1];return t},hamming:function(r){for(var t=new Float32Array(r),a=0;a<r;a++)t[a]=.54-.46*Math.cos(2*Math.PI*(a/r-1));return t},hanning:function(r){for(var t=new Float32Array(r),a=0;a<r;a++)t[a]=.5-.5*Math.cos(2*Math.PI*a/(r-1));return t},sine:function(r){for(var t=Math.PI/(r-1),a=new Float32Array(r),e=0;e<r;e++)a[e]=Math.sin(t*e);return a}}),p={};function C(r){for(;r%2==0&&r>1;)r/=2;return r===1}function T(r,t){if(t!=="rect"){if(t!==""&&t||(t="hanning"),p[t]||(p[t]={}),!p[t][r.length])try{p[t][r.length]=i[t](r.length)}catch{throw new Error("Invalid windowing function")}r=function(a,e){for(var n=[],o=0;o<Math.min(a.length,e.length);o++)n[o]=a[o]*e[o];return n}(r,p[t][r.length])}return r}function E(r,t,a){for(var e=new Float32Array(r),n=0;n<e.length;n++)e[n]=n*t/a,e[n]=13*Math.atan(e[n]/1315.8)+3.5*Math.atan(Math.pow(e[n]/7518,2));return e}function S(r){return Float32Array.from(r)}function s(r){return 1125*Math.log(1+r/700)}function d(r,t,a){for(var e,n=new Float32Array(r+2),o=new Float32Array(r+2),v=t/2,g=s(0),u=(s(v)-g)/(r+1),l=new Array(r+2),m=0;m<n.length;m++)n[m]=m*u,o[m]=(e=n[m],700*(Math.exp(e/1125)-1)),l[m]=Math.floor((a+1)*o[m]/t);for(var z=new Array(r),h=0;h<z.length;h++){for(z[h]=new Array(a/2+1).fill(0),m=l[h];m<l[h+1];m++)z[h][m]=(m-l[h])/(l[h+1]-l[h]);for(m=l[h+1];m<l[h+2];m++)z[h][m]=(l[h+2]-m)/(l[h+2]-l[h+1])}return z}function M(r,t,a,e,n,o,v){e===void 0&&(e=5),n===void 0&&(n=2),o===void 0&&(o=!0),v===void 0&&(v=440);var g=Math.floor(a/2)+1,u=new Array(a).fill(0).map(function(A,B){return r*function(O,D){return Math.log2(16*O/D)}(t*B/a,v)});u[0]=u[1]-1.5*r;var l,m,z,h=u.slice(1).map(function(A,B){return Math.max(A-u[B])},1).concat([1]),V=Math.round(r/2),L=new Array(r).fill(0).map(function(A,B){return u.map(function(O){return(10*r+V+O-B)%r-V})}),I=L.map(function(A,B){return A.map(function(O,D){return Math.exp(-.5*Math.pow(2*L[B][D]/h[D],2))})});if(m=(l=I)[0].map(function(){return 0}),z=l.reduce(function(A,B){return B.forEach(function(O,D){A[D]+=Math.pow(O,2)}),A},m).map(Math.sqrt),I=l.map(function(A,B){return A.map(function(O,D){return O/(z[D]||1)})}),n){var it=u.map(function(A){return Math.exp(-.5*Math.pow((A/r-e)/n,2))});I=I.map(function(A){return A.map(function(B,O){return B*it[O]})})}return o&&(I=f(f([],I.slice(3),!0),I.slice(0,3),!0)),I.map(function(A){return A.slice(0,g)})}function b(r,t){for(var a=0,e=0,n=0;n<t.length;n++)a+=Math.pow(n,r)*Math.abs(t[n]),e+=t[n];return a/e}function R(r){var t=r.ampSpectrum,a=r.barkScale,e=r.numberOfBarkBands,n=e===void 0?24:e;if(typeof t!="object"||typeof a!="object")throw new TypeError;var o=n,v=new Float32Array(o),g=0,u=t,l=new Int32Array(o+1);l[0]=0;for(var m=a[u.length-1]/o,z=1,h=0;h<u.length;h++)for(;a[h]>m;)l[z++]=h,m=z*a[u.length-1]/o;for(l[o]=u.length-1,h=0;h<o;h++){for(var V=0,L=l[h];L<l[h+1];L++)V+=u[L];v[h]=Math.pow(V,.23)}for(h=0;h<v.length;h++)g+=v[h];return{specific:v,total:g}}function F(r){var t=r.ampSpectrum;if(typeof t!="object")throw new TypeError;for(var a=new Float32Array(t.length),e=0;e<a.length;e++)a[e]=Math.pow(t[e],2);return a}function q(r){var t=r.ampSpectrum,a=r.melFilterBank,e=r.bufferSize;if(typeof t!="object")throw new TypeError("Valid ampSpectrum is required to generate melBands");if(typeof a!="object")throw new TypeError("Valid melFilterBank is required to generate melBands");for(var n=F({ampSpectrum:t}),o=a.length,v=Array(o),g=new Float32Array(o),u=0;u<g.length;u++){v[u]=new Float32Array(e/2),g[u]=0;for(var l=0;l<e/2;l++)v[u][l]=a[u][l]*n[l],g[u]+=v[u][l];g[u]=Math.log(g[u]+1)}return Array.prototype.slice.call(g)}var P=Object.freeze({__proto__:null,amplitudeSpectrum:function(r){return r.ampSpectrum},buffer:function(r){return r.signal},chroma:function(r){var t=r.ampSpectrum,a=r.chromaFilterBank;if(typeof t!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof a!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var e=a.map(function(o,v){return t.reduce(function(g,u,l){return g+u*o[l]},0)}),n=Math.max.apply(Math,e);return n?e.map(function(o){return o/n}):e},complexSpectrum:function(r){return r.complexSpectrum},energy:function(r){var t=r.signal;if(typeof t!="object")throw new TypeError;for(var a=0,e=0;e<t.length;e++)a+=Math.pow(Math.abs(t[e]),2);return a},loudness:R,melBands:q,mfcc:function(r){var t=r.ampSpectrum,a=r.melFilterBank,e=r.numberOfMFCCCoefficients,n=r.bufferSize,o=Math.min(40,Math.max(1,e||13));if(a.length<o)throw new Error("Insufficient filter bank for requested number of coefficients");var v=q({ampSpectrum:t,melFilterBank:a,bufferSize:n});return _(v).slice(0,o)},perceptualSharpness:function(r){for(var t=R({ampSpectrum:r.ampSpectrum,barkScale:r.barkScale}),a=t.specific,e=0,n=0;n<a.length;n++)e+=n<15?(n+1)*a[n+1]:.066*Math.exp(.171*(n+1));return e*=.11/t.total},perceptualSpread:function(r){for(var t=R({ampSpectrum:r.ampSpectrum,barkScale:r.barkScale}),a=0,e=0;e<t.specific.length;e++)t.specific[e]>a&&(a=t.specific[e]);return Math.pow((t.total-a)/t.total,2)},powerSpectrum:F,rms:function(r){var t=r.signal;if(typeof t!="object")throw new TypeError;for(var a=0,e=0;e<t.length;e++)a+=Math.pow(t[e],2);return a/=t.length,a=Math.sqrt(a)},spectralCentroid:function(r){var t=r.ampSpectrum;if(typeof t!="object")throw new TypeError;return b(1,t)},spectralCrest:function(r){var t=r.ampSpectrum;if(typeof t!="object")throw new TypeError;var a=0,e=-1/0;return t.forEach(function(n){a+=Math.pow(n,2),e=n>e?n:e}),a/=t.length,a=Math.sqrt(a),e/a},spectralFlatness:function(r){var t=r.ampSpectrum;if(typeof t!="object")throw new TypeError;for(var a=0,e=0,n=0;n<t.length;n++)a+=Math.log(t[n]),e+=t[n];return Math.exp(a/t.length)*t.length/e},spectralFlux:function(r){var t=r.signal,a=r.previousSignal,e=r.bufferSize;if(typeof t!="object"||typeof a!="object")throw new TypeError;for(var n=0,o=-e/2;o<t.length/2-1;o++)x=Math.abs(t[o])-Math.abs(a[o]),n+=(x+Math.abs(x))/2;return n},spectralKurtosis:function(r){var t=r.ampSpectrum;if(typeof t!="object")throw new TypeError;var a=t,e=b(1,a),n=b(2,a),o=b(3,a),v=b(4,a);return(-3*Math.pow(e,4)+6*e*n-4*e*o+v)/Math.pow(Math.sqrt(n-Math.pow(e,2)),4)},spectralRolloff:function(r){var t=r.ampSpectrum,a=r.sampleRate;if(typeof t!="object")throw new TypeError;for(var e=t,n=a/(2*(e.length-1)),o=0,v=0;v<e.length;v++)o+=e[v];for(var g=.99*o,u=e.length-1;o>g&&u>=0;)o-=e[u],--u;return(u+1)*n},spectralSkewness:function(r){var t=r.ampSpectrum;if(typeof t!="object")throw new TypeError;var a=b(1,t),e=b(2,t),n=b(3,t);return(2*Math.pow(a,3)-3*a*e+n)/Math.pow(Math.sqrt(e-Math.pow(a,2)),3)},spectralSlope:function(r){var t=r.ampSpectrum,a=r.sampleRate,e=r.bufferSize;if(typeof t!="object")throw new TypeError;for(var n=0,o=0,v=new Float32Array(t.length),g=0,u=0,l=0;l<t.length;l++){n+=t[l];var m=l*a/e;v[l]=m,g+=m*m,o+=m,u+=m*t[l]}return(t.length*u-o*n)/(n*(g-Math.pow(o,2)))},spectralSpread:function(r){var t=r.ampSpectrum;if(typeof t!="object")throw new TypeError;return Math.sqrt(b(2,t)-Math.pow(b(1,t),2))},zcr:function(r){var t=r.signal;if(typeof t!="object")throw new TypeError;for(var a=0,e=1;e<t.length;e++)(t[e-1]>=0&&t[e]<0||t[e-1]<0&&t[e]>=0)&&a++;return a}}),W=function(){function r(t,a){var e=this;if(this._m=a,!t.audioContext)throw this._m.errors.noAC;if(t.bufferSize&&!C(t.bufferSize))throw this._m._errors.notPow2;if(!t.source)throw this._m._errors.noSource;this._m.audioContext=t.audioContext,this._m.bufferSize=t.bufferSize||this._m.bufferSize||256,this._m.hopSize=t.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=t.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=t.callback,this._m.windowingFunction=t.windowingFunction||"hanning",this._m.featureExtractors=P,this._m.EXTRACTION_STARTED=t.startImmediately||!1,this._m.channel=typeof t.channel=="number"?t.channel:0,this._m.inputs=t.inputs||1,this._m.outputs=t.outputs||1,this._m.numberOfMFCCCoefficients=t.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=t.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=t.featureExtractors||[],this._m.barkScale=E(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=d(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(t.source),this._m.spn.onaudioprocess=function(n){var o;e._m.inputData!==null&&(e._m.previousInputData=e._m.inputData),e._m.inputData=n.inputBuffer.getChannelData(e._m.channel),e._m.previousInputData?((o=new Float32Array(e._m.previousInputData.length+e._m.inputData.length-e._m.hopSize)).set(e._m.previousInputData.slice(e._m.hopSize)),o.set(e._m.inputData,e._m.previousInputData.length-e._m.hopSize)):o=e._m.inputData;var v=function(g,u,l){if(g.length<u)throw new Error("Buffer is too short for frame length");if(l<1)throw new Error("Hop length cannot be less that 1");if(u<1)throw new Error("Frame length cannot be less that 1");var m=1+Math.floor((g.length-u)/l);return new Array(m).fill(0).map(function(z,h){return g.slice(h*l,h*l+u)})}(o,e._m.bufferSize,e._m.hopSize);v.forEach(function(g){e._m.frame=g;var u=e._m.extract(e._m._featuresToExtract,e._m.frame,e._m.previousFrame);typeof e._m.callback=="function"&&e._m.EXTRACTION_STARTED&&e._m.callback(u),e._m.previousFrame=e._m.frame})}}return r.prototype.start=function(t){this._m._featuresToExtract=t||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},r.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},r.prototype.setSource=function(t){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=t,this._m.source.connect(this._m.spn)},r.prototype.setChannel=function(t){t<=this._m.inputs?this._m.channel=t:console.error("Channel ".concat(t," does not exist. Make sure you've provided a value for 'inputs' that is greater than ").concat(t," when instantiating the MeydaAnalyzer"))},r.prototype.get=function(t){return this._m.inputData?this._m.extract(t||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},r}(),H={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:P,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:T,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(r){return new W(r,Object.assign({},H))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(r,t,a){var e=this;if(!t)throw this._errors.invalidInput;if(typeof t!="object")throw this._errors.invalidInput;if(!r)throw this._errors.featureUndef;if(!C(t.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=E(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=d(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=M(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in t&&t.buffer===void 0?this.signal=S(t):this.signal=t;var n=U(t,this.windowingFunction,this.bufferSize);if(this.signal=n.windowedSignal,this.complexSpectrum=n.complexSpectrum,this.ampSpectrum=n.ampSpectrum,a){var o=U(a,this.windowingFunction,this.bufferSize);this.previousSignal=o.windowedSignal,this.previousComplexSpectrum=o.complexSpectrum,this.previousAmpSpectrum=o.ampSpectrum}var v=function(g){return e.featureExtractors[g]({ampSpectrum:e.ampSpectrum,chromaFilterBank:e.chromaFilterBank,complexSpectrum:e.complexSpectrum,signal:e.signal,bufferSize:e.bufferSize,sampleRate:e.sampleRate,barkScale:e.barkScale,melFilterBank:e.melFilterBank,previousSignal:e.previousSignal,previousAmpSpectrum:e.previousAmpSpectrum,previousComplexSpectrum:e.previousComplexSpectrum,numberOfMFCCCoefficients:e.numberOfMFCCCoefficients,numberOfBarkBands:e.numberOfBarkBands})};if(typeof r=="object")return r.reduce(function(g,u){var l;return Object.assign({},g,((l={})[u]=v(u),l))},{});if(typeof r=="string")return v(r);throw this._errors.invalidFeatureFmt}},U=function(r,t,a){var e={};r.buffer===void 0?e.signal=S(r):e.signal=r,e.windowedSignal=T(e.signal,t),e.complexSpectrum=y.fft(e.windowedSignal),e.ampSpectrum=new Float32Array(a/2);for(var n=0;n<a/2;n++)e.ampSpectrum[n]=Math.sqrt(Math.pow(e.complexSpectrum.real[n],2)+Math.pow(e.complexSpectrum.imag[n],2));return e};return typeof window<"u"&&(window.Meyda=H),H})})(ot);var vt=ot.exports;const at=ct(vt),X=new AudioContext;recordButton.addEventListener("click",()=>{X.state==="suspended"?(X.resume(),navigator.mediaDevices.getUserMedia({audio:!0}).then(c=>{const w=X.createMediaStreamSource(c);nt(w),console.log("Microphone activated"),recordButton.classList.add("micButtonOn"),recordButton.classList.remove("micButtonOff")}).catch(c=>{console.log("Microphone error")})):X.state!=="suspended"&&(X.suspend(),console.log("Microphone suspended"),nt(""),recordButton.classList.remove("micButtonOn"),recordButton.classList.add("micButtonOff"))});function nt(c,w){typeof at>"u"?console.log("Meyda could not be found! Have you included it?"):(at.createMeydaAnalyzer({audioContext:X,source:c,bufferSize:512,featureExtractors:["rms","amplitudeSpectrum","spectralCentroid"],callback:y=>{lt(y),audioLevels.innerHTML=y.rms*1e3,spectralCentroid.textContent=y.spectralCentroid}}).start(),console.log("Starting Analyzer"))}
